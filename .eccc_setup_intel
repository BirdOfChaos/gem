#!/bin/bash

# For internal use at ECCC
# Source this file to:
# - Load profile, Intel compiler. and code-tools for Intel
# - Load libraries
# - Load a script for common setup to all compilers

export COMPILER_SUITE=intel
DOMAIN=`hostname -d`

if [[ -z "${DOMAIN}" || ${DOMAIN} = "science.gc.ca" ]]; then
    . ./ci-env/latest/rhel-8-icelake-64/inteloneapi-2022.1.2.sh
    export COMPILER_VERSION=2021.5.0
else
    . ./ci-env/latest/ubuntu-18.04-amd-64/intel-19.0.3.199.sh
    export COMPILER_VERSION=19.0.3.199
fi

. ./.common_setup ${COMPILER_SUITE}
